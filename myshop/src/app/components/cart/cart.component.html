<app-panel-top></app-panel-top>

<div class="body-wrapper">
  <div class="wrapper">
    <div class="sideTable"></div>
    <table *ngIf="this.mainService.products" id="cartTable">
      <thead id="tableHead">
        <tr>
          <th>obrazek</th>
          <th>dane</th>
          <th>akcje</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <ng-container *ngFor="let object of this.uniqueCart">
          <tr style="background-color: whitesmoke;">
            <td>
              <img src="{{object.product.thumbnail}}" alt="">
            </td>
            <td>
              <ul>
                <li>Tytuł: {{object.product.title}}</li>
                <li>Cena: {{object.product.price}}</li>
                <li>Kategoria: {{object.product.category}}</li>
              </ul>
            </td>
            <td>
              <button (click)="removeFromCart(object)">Usuń z koszyka</button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
    <div class="sideTable"></div>
  </div>
  <div class="wrapper">
    <div class="summary">
      <p>Do zapłaty: {{getCartPrice()}}</p>
    </div>
    <div id="paypal">PayPal photo</div>
    <div class="wrapper_form">
      <form action="http://www.jakubadamus.cba.pl/paypal.php" method="get" #paymentForm>
        <div class="inputItem" >
          <input type="text" #firstName name="firstName" id="" placeholder="Imie">
          <input type="text" #lastName name="lastName" id="" placeholder="Nazwisko">
          <input type="text" #email name="email" id="" placeholder="Email">
          <input type="text" name="phone" id="" placeholder="Telefon">
        </div>
        <ng-container *ngFor="let object of this.mainService.cart">
          <input type="hidden" name="products[]" value="{{ object | json }}">
        </ng-container>
        <div class="inputItem">
          <label for="" class="item">Akceptuję regulamin:<input #regulamin type="checkbox" name="aggrement" id="" (change)="0" class=""></label>
          <button [disabled]="!regulamin.checked" (click)="paymentForm.submit()">Kup</button>
        </div>
      </form>
    </div>
  </div>
</div>

<app-footer></app-footer>
